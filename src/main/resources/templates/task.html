<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<title>Task Page</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body class="bg-light">
	<!-- Navbar -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<div class="container-fluid">
			<a class="navbar-brand fw-bold" href="#">TodoApp</a>
			
			<div>
				<a th:href="@{/logout}" class="btn btn-outline-light btn-sm">ðŸšª Logout</a>
			</div>
		</div>
	</nav>

	<!-- Main Container -->
	<div class="container mt-5">
		<div class="row justify-content-center">
			<div class="col-md-6 text-center">

				<!-- Title -->
				<h1 class="mb-4 text-primary fw-bold">âœ¨ Todo Application âœ¨</h1>

				<!-- Form -->
				<form action="/submitTask" method="post" class="input-group mb-4 shadow-sm">
					<input type="text" name="title" placeholder="Enter Task" class="form-control" required />
					<button type="submit" class="btn btn-success">Add Task</button>
				</form>
				
				<!-- Tasks Section -->
				<div class="card shadow-sm">
					<div class="card-header bg-dark text-white d-flex justify-content-between align-items-center">
						<h4 class="mb-0">All Tasks</h4>
					</div>
					<div class="card-body text-start">
						<th:block th:if="${#lists.isEmpty(tasks)}">
							<p class="text-muted text-center">No tasks yet. ðŸš€</p>
						</th:block>

						<th:block th:each="task : ${tasks}" th:unless="${#lists.isEmpty(tasks)}">
							<div class="d-flex justify-content-between align-items-center mb-2 p-2 border rounded">
								<span th:text="${task.title}"
									th:classappend="${task.completed} ? 'text-decoration-line-through text-muted' : ''">
									Task Title
								</span>
								<span>
									<a th:href="@{/toggle/{id}(id=${task.id})}"
										class="btn btn-sm btn-outline-primary me-2">
										<span th:if="${task.completed}">Undo</span>
										<span th:unless="${task.completed}">Done</span>
									</a>
									<a th:href="@{'/updateForm/' + ${task.id}}" class="btn btn-warning btn-sm">Edit</a>
									<a th:href="@{/delete/{id}(id=${task.id})}"
										class="btn btn-sm btn-outline-danger">Delete</a>
								</span>
							</div>
						</th:block>
					</div>
				</div>

			</div>
		</div>
	</div>

</body>
</html>
